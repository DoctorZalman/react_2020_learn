{"version":3,"sources":["redux/dialogs-reducer.js","components/Users/users.module.css","api/api.js","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/image/hr.png","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","hoc/withSuspense.js","App.js","reportWebVitals.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","components/common/FormsControls/FormsControls.js","components/common/Preloader/Preloader.jsx","assets/image/loading.gif","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialeState","dialogs","id","name","messages","message","likesCount","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profilesAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","s","nav","item","active","to","activeClassName","activeLink","updateobjectInArrey","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","log","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","alt","disabled","some","Users","props","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderComponent","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","formSummeryError","length","stopSubmit","_error","formData","INITILAZED_SUCCESS","initialized","appReducer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","withRouter","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","___store___","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","child","placeholder","validators","component","text","validate","value","maxLenghtCreator","maxLenght","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","profile","addPostActionCreator","newPostText","setStatus","getUsersProfile","profileAPI","newPost","postId"],"mappings":"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","file":"static/js/main.06b18979.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialeState = {\r\n\tdialogs: [\r\n\t\t{id:1, name: \"Roma\"},\r\n\t\t{id:4, name: \"Vasia\"},\r\n\t\t{id:2, name: \"Vika\"},\r\n\t\t{id:3, name: \"Endry\"}\r\n\t],\r\n\tmessages: [\r\n\t\t{id: 1, message: \"How is your cat\", likesCount: 12},\r\n\t\t{id: 2, message: \"Hi\", likesCount: 13},\r\n\t\t{id: 3, message: \"Good\", likesCount: 14},\r\n\t\t{id: 4, message: \"Nice\", likesCount: 15}\r\n\t]\r\n}\r\nconst dialogsReducer = (state = initialeState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tlet body = action.newMessageBody;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, {id: 7, message: body}],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) =>  ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3ehBm\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL : 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\" : \"03dcfcb3-b206-4bb6-9dc2-cdad312203ff\"\r\n\t}\r\n});\r\n\r\nexport const usersAPI = {\r\n\tgetUsers (currentPage = 1, pageSize= 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t});\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\tgetProfile(userId){\r\n\t\tconsole.warn('Obsolete method. Please use profilesAPI object')\r\n\t\treturn profilesAPI.getProfile(userId);\r\n\t}\r\n}\r\n\r\nexport const profilesAPI = {\r\n\tgetProfile(userId){\r\n\t\treturn instance.get(`profile/` + userId);\r\n\t},\r\n\tgetStatus (userId) {\r\n\t\treturn instance.get('profile/status/' + userId);\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put('profile/status', {status});\r\n\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe});\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t},\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3Wi2g\",\"item\":\"Navbar_item__37kqs\",\"activeLink\":\"Navbar_activeLink__3I75Y\"};","import React from \"react\";\r\nimport s from \"./Navbar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n\treturn <nav className={s.nav}>\r\n\t\t<div className={`${s.item} ${s.active}`}>\r\n\t\t\t<NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n\t\t</div>\r\n\t\t<div className={s.item}>\r\n\t\t\t<NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n\t\t</div>\r\n\t\t<div className={s.item}>\r\n\t\t\t<NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n\t\t</div>\r\n\t\t<div className={s.item}>\r\n\t\t\t<a>News</a></div>\r\n\t\t<div className={s.item}><a>Music</a>\r\n\t\t</div>\r\n\t\t<div className={s.item}>\r\n\t\t\t<a>Settings</a>\r\n\t\t</div>\r\n\t</nav>\r\n}\r\n\r\nexport default Navbar;","export const updateobjectInArrey = (items, itemId, objPropName, newObjProps)=>{\r\n\treturn items.map(u => {\r\n\tif (u.[objPropName] === itemId) {\r\n\t\treturn {...u, ...newObjProps}\r\n\t}\r\n\treturn u;\r\n})\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateobjectInArrey} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateobjectInArrey(state.users, action.userId,\"id\", {followed: true})\r\n\t\t\t};\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateobjectInArrey(state.users, action.userId,\"id\", {followed: false})\r\n\t\t\t};\r\n\t\tcase SET_USERS : {\r\n\t\t\treturn {...state, users: action.users}\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE : {\r\n\t\t\treturn {...state, currentPage: action.currentPage}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT : {\r\n\t\t\treturn {...state, totalUsersCount: action.count}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING : {\r\n\t\t\treturn {...state, isFetching: action.isFetching}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS : {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id != action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n\ttype: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n\tisFetching,\r\n\tuserId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tdispatch(setCurrentPage(page));\r\n\t\tconst data = await usersAPI.getUsers(page, pageSize);\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(data.items));\r\n\t\tdispatch(setTotalUsersCount(data.totalCount));\r\n\t}\r\n};\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) =>{\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\tconst response = await apiMethod(userId);\r\n\tif (response.data.resultCode == 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n\t}\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n\t}\r\n};\r\n\r\nexport default usersReducer;","import React from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\nimport {useState} from \"react\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 5}) => {\r\n\tconsole.log(totalItemsCount, pageSize, currentPage, onPageChanged, portionSize);\r\n\tlet pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\tlet pages = [];\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\tlet portionCount = Math.ceil(pagesCount / pageSize);\r\n\tlet [portionNumber, setPortionNumber] = useState(1);\r\n\tlet leftPortionPageNumber = (portionNumber -1) * portionSize +1;\r\n\tlet rightPortionPageNumber = portionNumber * portionSize;\r\n\treturn <div className={styles.paginator}>\r\n\t\t{ portionNumber > 1 &&\r\n\t\t\t<button onClick={() => {setPortionNumber(portionNumber - 1)}}>Previous</button>}\r\n\t\t{ pages\r\n\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t.map((p)=>{\r\n\t\t\t\treturn <span className={ cn ({\r\n\t\t\t\t[styles.selectedPage] : currentPage === p\r\n\t\t}, styles.pageNumber)}\r\n\t\t\tkey={p}\r\n\t\t\tonClick={(e) => {\r\n\t\t\t\tonPageChanged(p);\r\n\t\t\t}}>{p}</span>\r\n\t\t})}\r\n\t\t{portionCount > portionNumber &&\r\n\t\t\t<button onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>}\r\n\t\t\t</div>\r\n\t\t\t};\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/hr.3e7bb820.png\";","import React from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from '../../assets/image/hr.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<span>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t\t<img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto}\r\n\t\t\t\t\t\t     alt='ava'/>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{user.followed\r\n\t\t\t\t\t\t? <button disabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t          onClick={() => {\r\n\t\t\t\t\t\t\t          unfollow(user.id);\r\n\t\t\t\t\t\t          }}>Unfollow</button>\r\n\t\t\t\t\t\t: <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n\t\t\t\t\t\t\tfollow(user.id);\r\n\t\t\t\t\t\t}}>Follow</button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>{user.name}</div>\r\n\t\t\t\t\t<div>{user.status}</div>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>{'user.location.country'}</div>\r\n\t\t\t\t\t<div>{'user.location.city'}</div>\r\n\t\t\t\t</span>\r\n\t\t</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\treturn <div>\r\n\t\t<Paginator currentPage={currentPage}\r\n\t\t           onPageChanged={onPageChanged}\r\n\t\t           totalItemsCount={totalUsersCount}\r\n\t\t           pageSize={pageSize}/>\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tusers.map(u => <User user={u}\r\n\t\t\t                      followingInProgress={props.followingInProgress}\r\n\t\t\t                      key={u.id}\r\n\t\t\t                      unfollow={props.unfollow}\r\n\t\t\t                      follow={props.follow}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t\t}\r\n\t\t</div>\r\n\t</div>\r\n}\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n\treturn state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n\treturn users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n\tfollow,\r\n\tsetCurrentPage,\r\n\tunfollow, toggleFollowingProgress, requestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n\tgetCurrentPage,\r\n\tgetFollowingInProgress,\r\n\tgetIsFetching,\r\n\tgetPageSize,\r\n\tgetTotalUsersCount, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {currentPage, pageSize} = this.props;\r\n\t\tthis.props.getUsers(currentPage, pageSize);\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {pageSize} = this.props;\r\n\t\tthis.props.getUsers(pageNumber, pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader/> : null}\r\n\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t       pageSize={this.props.pageSize}\r\n\t\t\t       currentPage={this.props.currentPage}\r\n\t\t\t       onPageChanged={this.onPageChanged}\r\n\t\t\t       users={this.props.users}\r\n\t\t\t       follow={this.props.follow}\r\n\t\t\t       unfollow={this.props.unfollow}\r\n\t\t\t       followingInProgress={this.props.followingInProgress}\r\n\t\t\t/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\t\tfollow,\r\n\t\t\tunfollow,\r\n\t\t\tsetCurrentPage,\r\n\t\t\ttoggleFollowingProgress, getUsers: requestUsers\r\n\t\t})\r\n)(UsersContainer)","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\treturn <header className={s.header}>\r\n\t\t<img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS-uH0ttxOHBdtpV-G3iokQRz1bRVZu5dQfg&usqp=CAU\" alt=\"header\"/>\r\n\t\t<div className={s.loginBlock}>\r\n\t\t\t{ props.isAuth\r\n\t\t\t\t? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n\t\t\t\t: <NavLink to={'/login'}>Login</NavLink> }\r\n\t\t</div>\r\n\t</header>\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = 'samurai/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => (\r\n\t{type: SET_USER_DATA, payload: {userId, email, login, isAuth}}\r\n);\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tconst response = await authAPI.me();\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tlet {id, login, email} = response.data.data;\r\n\t\t\tdispatch(setAuthUserData(id, login, email, true));\r\n\t\t}\r\n\t}\r\n\texport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\t\tconst response = await authAPI.login(email, password, rememberMe);\r\n\t\t\t\tif (response.data.resultCode === 0) {\r\n\t\t\t\t\tdispatch(getAuthUserData());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n\t\t\t\t\tdispatch(stopSubmit(\"login\", {_error: message}));\r\n\t\t\t\t}\r\n\t}\r\n\texport const logout = () => async (dispatch) => {\r\n\t\tconst response = await authAPI.logout();\r\n\t\t\t\tif (response.data.resultCode === 0) {\r\n\t\t\t\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t\t\t\t}\r\n\t}\r\n\r\n\texport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderComponent extends React.Component{\r\n\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n});\r\nexport default connect (mapStateToProps, {logout}) (HeaderComponent);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t{createField(\"Email\", \"email\", [required], Input)}\r\n\t\t\t\t{createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n\t\t\t\t{createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\t\t\t{error && <div className={style.formSummeryError}>\r\n\t\t\t\t{error}\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Enter</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe);\r\n\t}\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"}/>\r\n\t}\r\n\treturn <div>\r\n\t\t<h1>Login</h1>\r\n\t\t<LoginReduxForm onSubmit={onSubmit}/>\r\n\t</div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITILAZED_SUCCESS = 'INITILAZED_SUCCES';\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITILAZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITILAZED_SUCCESS});\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData());\r\n\t// dispatch(somethingelse());\r\n\t// dispatch(somethingelse());\r\n\t// dispatch(somethingelse());\r\n\tPromise.all([promise])\r\n\t\t.then(() => {\r\n\t\t\tdispatch(initializedSuccess());\r\n\t\t});\r\n}\r\n\r\nexport default appReducer;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n\treturn (props) => {\r\n\t\treturn <React.Suspense fallback={<Preloader />}>\r\n\t\t\t<Component {...props}/>\r\n\t\t</React.Suspense>\r\n\t};\r\n};","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderComponent from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')); // Lazy-loaded\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer')); // Lazy-loaded\r\n\r\n\r\nclass App extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t}\r\n\trender() {\r\n\t\tif (!this.props.initialized){\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"app-wrapper\">\r\n\t\t\t\t<HeaderComponent/>\r\n\t\t\t\t<Navbar/>\r\n\t\t\t\t<div className=\"app-wrapper-content\">\r\n\t\t\t\t\t<Route path='/dialogs'\r\n\t\t\t\t\t       render={withSuspense(DialogsContainer)}/>\r\n\t\t\t\t\t<Route path='/profile/:userId?'\r\n\t\t\t\t\t       render={withSuspense(ProfileContainer)}/>\r\n\t\t\t\t\t<Route path='/users'\r\n\t\t\t\t\t       render={() => <UsersContainer/>}/>\r\n\t\t\t\t\t<Route path='/login'\r\n\t\t\t\t\t       render={() => <LoginPage/>}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nconst mapStateToProps = (state) => ({\r\n\tinitialized: state.app.initialized\r\n})\r\nexport default compose(\r\n\twithRouter,\r\n\tconnect(mapStateToProps, {initializeApp}))(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialeState = {};\r\nconst sidebarReducer = (state = initialeState, action) => {\r\n\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage : profileReducer,\r\n\tdialogsPage : dialogsReducer,\r\n\tsidebar : sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth : authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.___store___ = store;\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from \"./redux/redux-store\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\n\tReactDOM.render(\r\n\t\t\t<BrowserRouter>\r\n\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t<App/>\r\n\t\t\t\t</Provider>\r\n\t\t\t</BrowserRouter>,\r\n\t\tdocument.getElementById('root')\r\n\t);\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n\tconst hasError = touched && error;\r\n\treturn (\r\n\t\t<div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControl {...props}><textarea {...input} {...props}/> </FormControl>\r\n}\r\nexport const Input = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControl {...props}><input {...input} {...props}/> </FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props={}, text = \"\") => (\r\n\t<div>\r\n\t\t<Field placeholder={placeholder}\r\n\t\t       name={name}\r\n\t\t       validate={validators}\r\n\t\t       component={component}\r\n\t\t       {...props}\r\n\t\t/> {text}\r\n\t</div>\r\n)\r\n\r\n","import React from \"react\";\r\nimport preloader from \"../../../assets/image/loading.gif\";\r\n\r\nlet Preloader = () => (\r\n\t<div>\r\n\t\t<img src={ preloader }/>\r\n\t</div>\r\n)\r\n\r\nexport default Preloader;","export default \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1rAxd\",\"error\":\"FormsControls_error__1sJMo\",\"formSummeryError\":\"FormsControls_formSummeryError__3z937\"};","export const required = value => {\r\n\tif (value) return undefined;\r\n\treturn \"Field is required\";\r\n}\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) => {\r\n\tif (value.length > maxLenght) return `Max lenght is ${maxLenght} symbols`;\r\n\treturn undefined;\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2t25h\",\"pageNumber\":\"Paginator_pageNumber__Wt7_x\",\"selectedPage\":\"Paginator_selectedPage__3v7Te\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1dpD9\",\"loginBlock\":\"Header_loginBlock__UctD6\"};","import {profilesAPI as profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{id: 1, message: \"How is your cat\", likesCount: 12},\r\n\t\t{id: 2, message: \"Hi\", likesCount: 13},\r\n\t\t{id: 3, message: \"Good\", likesCount: 14},\r\n\t\t{id: 4, message: \"Nice\", likesCount: 15}\r\n\t],\r\n\tprofile: null,\r\n\tstatus: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:{\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t\tlikesCount: 0\r\n\t\t\t};\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: '',\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {...state, profile: action.profile}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {...state, posts: state.posts.filter(p => p.id !=action.postId)}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\n\r\nexport const setUsersProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\n\r\nexport const getUsersProfile = (userId) => async (dispatch) => {\r\n\tconst response = await usersAPI.getProfile(userId);\r\n\t\t\tdispatch(setUsersProfile(response.data));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tconst response = await profileAPI.getStatus(userId);\r\n\t\t\tdispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tconst response = await profileAPI.updateStatus(status);\r\n\tif (response.data.resultCode === 0) {\r\n\t\t\t\tdispatch(setStatus(status));\r\n\t\t\t}\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}