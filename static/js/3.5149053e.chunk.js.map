{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileInfo","profile","className","s","descriptionBlock","src","photos","large","alt","Preloader","Post","item","message","likesCount","maxLenght10","maxLenghtCreator","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","name","component","Textarea","validate","required","placeholder","MyPosts","React","memo","postElemets","posts","map","p","postBlock","values","addPost","newPostText","post","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUsersProfile","getStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.5149053e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__WcabD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__-Spva\",\"post\":\"MyPosts_post__2roK2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__y6xGd\"};","import React from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\nimport {useState, useEffect} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n// debugger;\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.status);\r\n\r\n\tuseEffect(() => {\r\n\t\t// debugger;\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status]);\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t}\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t}\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onDoubleClick={activateEditMode}> {props.status || \"-----\"}</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true}\r\n\t\t\t\t\t       value={status}/>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<div className={s.descriptionBlock}>\r\n\t\t\t\t<img src={profile.photos.large} alt=\"ava\"/>\r\n\t\t\t\t<ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\treturn <div className={s.item}>\r\n\t\t\t\t\t<img src=\"https://exclaim.ca/images/avatar_4.jpg\" alt=\"\"/>\r\n\t\t{props.message}\r\n\t\t<div>\r\n\t\t\t<span>{props.likesCount}</span>\r\n\t\t</div>\r\n\t\t\t\t</div>\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLenghtCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLenght10 = maxLenghtCreator(10);\r\nlet AddNewPostForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field name=\"newPostText\" component={Textarea} validate={[required, maxLenght10 ]} placeholder={\"Post message\"}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button>Add Post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n};\r\n\r\nlet AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm);\r\nconst MyPosts = React.memo(props => {\r\n\tlet postElemets =\r\n\t\tprops.posts.map(p => <Post message={p.message} likesCount={p.likesCount}/>);\r\n\tlet newPostElement = React.createRef();\r\n\tlet onAddPost = (values) => {\r\n\t\tprops.addPost(values.newPostText);\r\n\t}\r\n\treturn (\r\n\t\t<div className={s.postBlock}>\r\n\t\t\t<h3>My post</h3>\r\n\t\t\t<AddNewPostFormRedux onSubmit={onAddPost}/>\r\n\t\t\t<div className={s.post}>\r\n\t\t\t\t{postElemets}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n});\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts,\r\n\t\tnewPostText: state.profilePage.newPostText\r\n\t}\r\n}\r\nconst mapDispatchcToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (newPostText) => {\r\n\t\t\tdispatch(addPostActionCreator(newPostText));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchcToProps)(MyPosts);\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUsersProfile, updateStatus} from \"../../redux/profile-reducer\"\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif (!userId) {\r\n\t\t\t\tthis.props.history.push(\"/login\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.getUsersProfile(userId);\r\n\t\tthis.props.getStatus(userId);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Profile {...this.props}\r\n\t\t\t\t         profile={this.props.profile}\r\n\t\t\t\t         status={this.props.status}\r\n\t\t\t\t         updateStatus={this.props.updateStatus}\r\n\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {getUsersProfile, getStatus, updateStatus}),\r\n\twithRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}